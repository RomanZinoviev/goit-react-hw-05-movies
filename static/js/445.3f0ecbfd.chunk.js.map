{"version":3,"file":"static/js/445.3f0ecbfd.chunk.js","mappings":"mPACA,GAAgB,UAAY,8BAA8B,KAAO,yBAAyB,OAAS,2BAA2B,YAAc,gCAAgC,MAAQ,0BAA0B,IAAM,wBAAwB,KAAO,0B,SCoEnP,EAhEmB,WACf,OAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAgCJ,EAAAA,EAAAA,UAASK,aAAaC,QAAQ,SAA9D,eAAOC,EAAP,KAAiBC,EAAjB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAMXC,EAAW,SAACC,GACdC,IAAAA,IAAA,UALY,4CAKZ,oBAJY,mCAIZ,kBAAiDD,IAAQE,MAAK,SAAAC,GAC1D,IAAQC,EAAYD,EAAIE,KAAhBD,QACR,GAAuB,IAAnBA,EAAQE,OAGR,OAFAZ,EAAY,IACZa,QAAQC,IAAIf,GACLgB,MAAM,aAAD,OAAcpB,IAE9BE,aAAamB,QAAQ,OAAQjB,GAC7BL,EAASgB,MACVO,OAAM,SAAAC,GAAG,OAAIL,QAAQC,IAAII,QAEhCC,EAAAA,EAAAA,YAAU,WACQ,KAAXpB,GAA0B,OAAXA,GAClBM,EAASN,KACX,CAACM,EAAUN,IAcb,OACI,iCACI,mBAAQqB,QANG,WACfnB,EAAS,MAKwBoB,UAAWC,EAAAA,IAAxC,sBACA,kBAAMD,UAAWC,EAAAA,KAAjB,WACI,mBAAQC,KAAK,SAASF,UAAWC,EAAAA,OAAUF,QAjBjC,SAACI,GAEnB,GADAA,EAAEC,iBACY,KAAV9B,EAAgB,OAAOoB,MAAM,kBACjCf,EAAYL,GACZC,EAAS,KAaD,UACI,iBAAMyB,UAAWC,EAAAA,YAAjB,uBAEJ,kBACID,UAAWC,EAAAA,MACXC,KAAK,OACL5B,MAAOA,EACP+B,SAlBI,SAACF,GACjB5B,EAAS4B,EAAEG,OAAOhC,QAkBNiC,aAAa,MACbC,WAAS,EACTC,YAAY,qBAEpB,eAAIT,UAAWC,EAAAA,KAAf,SACK7B,GAASA,EAAMsC,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACvB,OAAQ,eAAaZ,UAAWC,EAAAA,KAAxB,UAAgC,SAAC,KAAD,CAAOY,GAAE,iBAAYF,GAC7DG,MAAOhC,EAASiC,SADwB,SACbH,KADVD","sources":["webpack://react-homework-template/./src/components/MoviesPage/MoviesPage.module.css?564c","components/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"MoviesPage_searchbar__NU7l3\",\"form\":\"MoviesPage_form__Hzb4A\",\"button\":\"MoviesPage_button__HN2QC\",\"buttonLabel\":\"MoviesPage_buttonLabel__RVZ1T\",\"input\":\"MoviesPage_input__h5lTQ\",\"but\":\"MoviesPage_but__nERCq\",\"link\":\"MoviesPage_link__Kqtq6\"};","import { useState, useEffect} from \"react\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport s from \"../MoviesPage/MoviesPage.module.css\"\n\nconst MoviesPage = () => {\n    const [films, setFilms] = useState(null);\n    const [value, setValue] = useState(\"\");\n    const [needFilm, setNeedFilm] = useState(localStorage.getItem(\"film\"));\n    const navigate = useNavigate();\n    const location = useLocation();    \n\n    const API_GET = \"https://api.themoviedb.org/3/search/movie\";\n    const API_KEY = \"04e9412e8b51c89a88481cdeb7f8adec\";\n    \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const getFilms = (film) => {        \n        axios.get(`${API_GET}?api_key=${API_KEY}&query=${film}`).then(res => {\n            const { results } = res.data;    \n            if (results.length === 0) { \n                setNeedFilm(\"\");\n                console.log(needFilm)\n                return alert(`not found ${value}`);\n            };\n            localStorage.setItem(\"film\", needFilm);\n            setFilms(results);                        \n        }).catch(err => console.log(err))\n    };\n    useEffect(() => {\n        if(needFilm===\"\"||needFilm===null){return}\n        getFilms(needFilm);        \n    },[getFilms, needFilm])\n    const submitHandler = (e) => {\n        e.preventDefault(); \n        if (value === \"\") { return alert(\"Write somthing\") };        \n        setNeedFilm(value);        \n        setValue(\"\");\n    };\n    const inputChange = (e) => {\n        setValue(e.target.value)\n    };\n    const homeHandle = () => {\n        navigate(\"/\");\n    };\n    \n    return (\n        <>\n            <button onClick={homeHandle} className={s.but}>Go back</button>\n            <form className={s.form}>\n                <button type=\"submit\" className={s.button} onClick={submitHandler}>\n                    <span className={s.buttonLabel}>Search</span>\n                </button>\n                <input\n                    className={s.input}\n                    type=\"text\"\n                    value={value}\n                    onChange={inputChange}\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search films\" />\n            </form>\n            <ul className={s.list} >\n                {films && films.map(({ id, title }) => {\n                    return (<li key={id} className={s.link}><Link  to={`/movie/${id}`}\n                    state={location.pathname}>{title}</Link></li>);\n                })}\n            </ul></>\n    )\n};\nexport default MoviesPage;"],"names":["useState","films","setFilms","value","setValue","localStorage","getItem","needFilm","setNeedFilm","navigate","useNavigate","location","useLocation","getFilms","film","axios","then","res","results","data","length","console","log","alert","setItem","catch","err","useEffect","onClick","className","s","type","e","preventDefault","onChange","target","autoComplete","autoFocus","placeholder","map","id","title","to","state","pathname"],"sourceRoot":""}